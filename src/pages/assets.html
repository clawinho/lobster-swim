<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ü¶û Lobster Swim - Asset Library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: linear-gradient(180deg, #000810 0%, #001020 50%, #001830 100%); min-height: 100vh; font-family: monospace; color: #fff; padding: 20px; }
        header { text-align: center; padding: 30px 0; border-bottom: 1px solid #ff450044; margin-bottom: 30px; }
        header h1 { color: #ff4500; font-size: 2.5em; margin-bottom: 10px; }
        header p { color: #666; font-size: 0.9em; }
        .version-tabs { display: flex; gap: 0; border-bottom: 1px solid #ff450033; }
        .version-tab { padding: 8px 14px; font-size: 0.75em; color: #666; cursor: pointer; border: 1px solid transparent; border-bottom: none; background: #000810; margin-bottom: -1px; border-radius: 4px 4px 0 0; }
        .version-tab:hover { color: #ff4500; background: #ff450011; }
        .version-tab.active { color: #ff4500; background: #001020; border-color: #ff450033; border-bottom-color: #001020; }
        .version-tab .star { color: #ffd700; margin-left: 4px; }
        .nav { display: flex; justify-content: center; gap: 15px; margin-bottom: 40px; flex-wrap: wrap; }
        .nav a { color: #888; text-decoration: none; padding: 8px 16px; border: 1px solid #333; border-radius: 4px; }
        .nav a:hover, .nav a.active { color: #ff4500; border-color: #ff4500; background: #ff450011; }
        .section { display: none; margin-bottom: 50px; }
        .section.active { display: block; }
        .section h2 { color: #ff4500; font-size: 1.4em; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #ff450033; }
        .asset-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; }
        .asset-card { background: #001020; border: 1px solid #ff450033; border-radius: 8px; overflow: hidden; }
        .asset-card:hover { border-color: #ff4500; }
        .asset-preview { background: #000810; height: 180px; display: flex; align-items: center; justify-content: center; }
        .asset-info { padding: 15px; }
        .asset-info h3 { color: #fff; margin-bottom: 8px; }
        .asset-info p { color: #888; font-size: 0.85em; margin-bottom: 12px; }
        .asset-meta { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 12px; }
        .tag { font-size: 0.7em; padding: 3px 8px; border-radius: 3px; background: #ff450022; color: #ff4500; }
        .tag.level { background: #4488ff22; color: #4488ff; }
        .controls { display: flex; flex-direction: column; gap: 8px; }
        .control-row { display: flex; align-items: center; gap: 10px; }
        .control-row label { color: #666; font-size: 0.75em; width: 70px; }
        .control-row input[type="range"] { flex: 1; accent-color: #ff4500; }
        .control-row .value { color: #ff4500; font-size: 0.8em; width: 40px; text-align: right; }
        .param-tabs { display: flex; gap: 0; margin-bottom: 8px; border-bottom: 1px solid #333; }
        .param-tab { padding: 4px 12px; font-size: 0.7em; color: #666; cursor: pointer; border: 1px solid transparent; border-bottom: none; background: transparent; border-radius: 3px 3px 0 0; margin-bottom: -1px; }
        .param-tab:hover { color: #ff4500; }
        .param-tab.active { color: #ff4500; background: #ff450011; border-color: #333; border-bottom-color: #001020; }
        .param-pane { display: none; }
        .param-pane.active { display: flex; flex-direction: column; gap: 8px; }
        #toast { position: fixed; bottom: 70px; right: 20px; background: #00ff8833; border: 1px solid #00ff88; color: #00ff88; padding: 10px 20px; border-radius: 6px; opacity: 0; transition: opacity 0.3s; }
        #toast.show { opacity: 1; }
        .audio-btn { background: #ff4500; border: none; color: #000; padding: 8px 20px; border-radius: 20px; cursor: pointer; font-weight: bold; font-size: 14px; }
        .audio-btn:hover { background: #ff6633; transform: scale(1.05); }
        .anim-buttons { display: flex; gap: 4px; }
        .anim-btn { padding: 4px 8px; font-size: 11px; border: 1px solid #555; background: #222; color: #aaa; cursor: pointer; border-radius: 3px; }
        .anim-btn:hover { background: #333; }
        .anim-btn.active { background: #ff6600; color: #000; border-color: #ff6600; }
    </style>
</head>
<body>
    <div id="asset-library"></div>

    <section class="section" id="audio">
        <h2>üîä Audio</h2>
        <div class="asset-grid">
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">ü´ß</div>
                    <button onclick="Audio.playBloop()" class="audio-btn">‚ñ∂ Bloop</button>
                </div>
                <div class="asset-info"><h3>Bubble Collect</h3><p>Rising pitch sweep.</p></div>
            </div>
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">üí•</div>
                    <button onclick="Audio.playHit()" class="audio-btn">‚ñ∂ Hit</button>
                </div>
                <div class="asset-info"><h3>Damage</h3><p>Sawtooth descend.</p></div>
            </div>
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">üíÄ</div>
                    <button onclick="Audio.playDeath()" class="audio-btn">‚ñ∂ Death</button>
                </div>
                <div class="asset-info"><h3>Game Over</h3><p>Dramatic descend.</p></div>
            </div>
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">‚ù§Ô∏è</div>
                    <button onclick="Audio.playExtraLife()" class="audio-btn">‚ñ∂ Life</button>
                </div>
                <div class="asset-info"><h3>Extra Life</h3><p>Ascending arpeggio.</p></div>
            </div>
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">ü™ù</div>
                    <button onclick="Audio.playHooked()" class="audio-btn">‚ñ∂ Hooked</button>
                </div>
                <div class="asset-info"><h3>Hooked</h3><p>Triangle sweep down.</p></div>
            </div>
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">‚¨ÜÔ∏è</div>
                    <button onclick="Audio.playLevelUp()" class="audio-btn">‚ñ∂ Level Up</button>
                </div>
                <div class="asset-info"><h3>Level Up</h3><p>Triumphant arpeggio.</p></div>
            </div>
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">üåä</div>
                    <button class="audio-btn" data-music="ocean">‚ñ∂ Ocean</button>
                    <audio id="music-ocean" src="../assets/music/music_ocean.mp3" loop></audio>
                </div>
                <div class="asset-info"><h3>Ocean Theme</h3><p>Calm underwater vibes.</p></div>
            </div>
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">üêü</div>
                    <button class="audio-btn" data-music="tank">‚ñ∂ Tank</button>
                    <audio id="music-tank" src="../assets/music/music_tank.mp3" loop></audio>
                </div>
                <div class="asset-info"><h3>Tank Theme</h3><p>Tense aquarium escape.</p></div>
            </div>
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">üç≥</div>
                    <button class="audio-btn" data-music="kitchen">‚ñ∂ Kitchen</button>
                    <audio id="music-kitchen" src="../assets/music/music_kitchen.mp3" loop></audio>
                </div>
                <div class="asset-info"><h3>Kitchen Theme</h3><p>Frantic final level.</p></div>
            </div>
            <div class="asset-card">
                <div class="asset-preview" style="flex-direction: column; gap: 10px;">
                    <div style="font-size: 48px;">üéπ</div>
                    <button class="audio-btn" data-music="groovy">‚ñ∂ Groovy</button>
                    <audio id="music-groovy" src="../assets/music/lobster_jazz_groovy.mp3" loop></audio>
                </div>
                <div class="asset-info"><h3>OG Groovy Jazz</h3><p>Transport Tycoon style bangers (v0.3.2).</p></div>
            </div>
        </div>
    </section>
    <bottom-nav version="1.0.52"></bottom-nav>
    <script type="module" src="../js/components/BottomNav.js"></script>
    <div id="toast"></div>

    <script src="../js/audio.js"></script>
    <script type="module">
        import { buildAssetLibrary } from '../js/asset-library.js';
        buildAssetLibrary(document.getElementById('asset-library'));

        // Music button handlers (static audio section)
        let currentMusic = null;
        document.querySelectorAll('.audio-btn[data-music]').forEach(btn => {
            btn.addEventListener('click', () => {
                const trackId = btn.dataset.music;
                const audio = document.getElementById(`music-${trackId}`);

                if (currentMusic && currentMusic !== audio) {
                    currentMusic.pause();
                    currentMusic.currentTime = 0;
                    document.querySelectorAll('.audio-btn[data-music]').forEach(b => {
                        b.textContent = '‚ñ∂ ' + b.textContent.replace('‚ñ† ', '').replace('‚ñ∂ ', '');
                    });
                }

                if (audio.paused) {
                    audio.play();
                    btn.textContent = '‚ñ† ' + btn.textContent.replace('‚ñ∂ ', '');
                    currentMusic = audio;
                } else {
                    audio.pause();
                    audio.currentTime = 0;
                    btn.textContent = '‚ñ∂ ' + btn.textContent.replace('‚ñ† ', '');
                    currentMusic = null;
                }
            });
        });
    </script>
</body>
</html>
